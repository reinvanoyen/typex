var that=this;function __skpm_run(e,t){that.context=t;var a=function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s="./src/css-export.js")}({"./src/css-export.js":
/*!***************************!*\
  !*** ./src/css-export.js ***!
  \***************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);var n=a(/*! ./util/ui */"./src/util/ui.js"),r=a(/*! ./util/string */"./src/util/string.js"),i=a(/*! ./util/export */"./src/util/export.js"),l=a(/*! ./util/sketch */"./src/util/sketch.js");t.default=function(e){n.default.createSettingsDialog(e,{title:"CSS classes export",informativeText:"Export each text style as a class, ready to be used in your HTML-files"},[{type:"multicheckbox",id:"excludeProps",label:"Exclude properties (merges text styles)",values:["Color","Line height"]},{type:"select",id:"cssUnit",options:["px","em","rem"],label:"Css unit"},{type:"text",id:"scalingFactor",value:1,label:"Size scaling factor"},{type:"text",id:"maxDecimalPlaces",value:2,label:"Maximal decimal places"},{type:"text",id:"classNamingPrefix",value:"type",label:"Class naming prefix"},{type:"select",id:"classNamingConvention",options:["Numeric","Text style name"],label:"Class naming convention"}],function(t){t.classNamingConvention=t.classNamingConvention||"Numeric";var a=[];t.excludeProps.Color&&a.push("color"),t.excludeProps["Line height"]&&a.push("lineHeight");var o=l.default.getTextStyles(e);o=i.default.sortTextStyles(o),o=i.default.excludeTextStyleProperties(o,a);var c={};(o=i.default.removeDoubleTextStyles(o)).forEach(function(e){c[r.default.slugify(e.name)]=i.default.createCssProps(e,t)});var s="",u=0;for(var f in c){var d=t.classNamingPrefix+"-"+("Numeric"===t.classNamingConvention?u+1:f);s+=(0!==u?"\n":"")+"."+d+"\n",s+="{\n",s+=i.default.createStyleBlock(c[f]),s+="}\n",u++}n.default.createSavePanel("typex-stylesheet.css",s)})}},"./src/util/export.js":
/*!****************************!*\
  !*** ./src/util/export.js ***!
  \****************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);var n=a(/*! ./util */"./src/util/util.js"),r=a(/*! ./number */"./src/util/number.js"),i={sortTextStyles:function(e){return e.sort(function(e,t){return e.fontSize-t.fontSize}),e},excludeTextStyleProperties:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach(function(e){t.forEach(function(t){e[t]&&delete e[t]})}),e},removeDoubleTextStyles:function(e){var t={},a=[];return e.forEach(function(e,r){var i=n.default.createTextStyleId(e);t[i]||(t[i]=!0,a.push(e))}),a},createCssProps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.cssUnit=t.cssUnit||0,t.scalingFactor=t.scalingFactor||1,t.maxDecimalPlaces=t.maxDecimalPlaces||2;var a={};a["font-family"]=e.fontFamily,a["font-weight"]=400,a["text-transform"]="none";var n=e.fontFamily.split("-"),l={Thin:100,Light:300,Regular:400,Medium:500,Bold:700,Black:900};return n[1]&&l[n[1]]&&(a["font-family"]=n[0],a["font-weight"]=l[n[1]]),a["font-size"]=r.default.parseFloatMaxDecimal(t.scalingFactor*e.fontSize,t.maxDecimalPlaces)+t.cssUnit,a["letter-spacing"]=r.default.parseFloatMaxDecimal(t.scalingFactor*e.letterSpacing,t.maxDecimalPlaces)+t.cssUnit,1===e.textTransform&&(a["text-transform"]="uppercase"),2===e.textTransform&&(a["text-transform"]="lowercase"),e.lineHeight&&(a["line-height"]=r.default.parseFloatMaxDecimal(1+(e.lineHeight-e.fontSize)/e.lineHeight,t.maxDecimalPlaces)),e.color&&(a.color=i.createRgbaString(e.color)),a},createRgbaString:function(e){return"rgba("+i.createColorValue(e.r)+","+i.createColorValue(e.g)+","+i.createColorValue(e.b)+","+e.a+")"},createColorValue:function(e){return Math.round(255*e)},createStyleBlock:function(e){var t="";for(var a in e)t+="\t"+a+": "+e[a]+";\n";return t},createInlineStyleString:function(e){var t="";for(var a in e)t+=a+": "+e[a]+"; ";return t},createHtmlFontbook:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a='\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="utf-8">\n        <title>Typex text styles</title>\n      </head>\n      <body style="padding: 0; margin: 0;">\n    ';return e.forEach(function(e,r){n.default.createTextStyleId(e);var l,o=i.createCssProps(e,t),c=i.createInlineStyleString(o);l="Numeric"===t.textStyleNamingConvention?t.textStyleNamingPrefix+" "+(r+1):"Text style name"===t.textStyleNamingConvention?t.textStyleNamingPrefix+" "+e.name:t.textStyleNamingPrefix+" "+(r+1)+" ("+e.name+")",a+='\n        <div style="box-shadow: 0 5px 15px #f0f0f0; padding: 25px 50px; border-bottom: 1px solid #ccc;">\n          <div style="font-family: Helvetica, Arial, Sans-Serif; font-size: 14px; margin-bottom: 15px;">\n            <span>'.concat(r+1,".</span>\n            <span>\n              ").concat(l,'\n            </span>\n            <span style="color: #ccc;">\n              ').concat(c,'\n            </span>\n          </div>\n          <div style="').concat(c,';">').concat(t.previewText,"</div>\n        </div>\n      ")}),a+="\n      </body>\n      </html>\n    "}};t.default=i},"./src/util/number.js":
/*!****************************!*\
  !*** ./src/util/number.js ***!
  \****************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);var n={parseFloatMaxDecimal:function(e,t){return Number(e.toFixed(t).replace(/[.,]00$/,""))}};t.default=n},"./src/util/sketch.js":
/*!****************************!*\
  !*** ./src/util/sketch.js ***!
  \****************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);var n={getTextStyles:function(e){var t=[];e.document.documentData().layerTextStyles().objects().forEach(function(e,a){t.push({attributes:e.style().textStyle().attributes(),textStyle:e,name:e.name()})});var a=[];return t.forEach(function(e){var t={};t.name=e.name,t.fontFamily=String(e.attributes.NSFont.fontDescriptor().objectForKey(NSFontNameAttribute)),t.fontSize=e.attributes.NSFont.fontDescriptor().objectForKey(NSFontSizeAttribute),t.paragraph=e.attributes.NSParagraphStyle,t.paragraph&&(t.lineHeight=t.paragraph.maximumLineHeight());var n=e.attributes.MSAttributedStringColorAttribute;if(n){var r=n.red(),i=n.green(),l=n.blue(),o=n.alpha();t.color={r:r,g:i,b:l,a:o}}t.letterSpacing=e.attributes.NSKern||0,t.textTransform=parseInt(e.attributes.MSAttributedStringTextTransformAttribute||0),a.push(t)}),a}};t.default=n},"./src/util/string.js":
/*!****************************!*\
  !*** ./src/util/string.js ***!
  \****************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);var n={slugify:function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",a=0,n=t.length;a<n;a++)e=e.replace(new RegExp(t.charAt(a),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}};t.default=n},"./src/util/ui.js":
/*!************************!*\
  !*** ./src/util/ui.js ***!
  \************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);var n={createSavePanel:function(e,t){var a=NSSavePanel.savePanel();if(a.setNameFieldStringValue(e),a.setAllowsOtherFileTypes(!1),a.setExtensionHidden(!1),a.runModal()){var n=NSString.stringWithString(t),r=a.URL().path();n.writeToFile_atomically_encoding_error(r,!0,NSUTF8StringEncoding,null)}},createLabel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=NSTextField.alloc().init();return t.setStringValue(e),t.setFont(NSFont.boldSystemFontOfSize(12)),t.setBezeled(!1),t.setDrawsBackground(!1),t.setEditable(!1),t.setSelectable(!1),t},createTextField:function(e){var t=NSTextField.alloc().init();return t.setStringValue(e),t},createSelect:function(e){var t=NSPopUpButton.alloc().init();return t.addItemsWithTitles(e),t.selectItemAtIndex(0),t},createStepper:function(e){return NSStepper.alloc().init()},createCheckbox:function(e){var t=NSButton.alloc().init();return t.setButtonType(NSSwitchButton),t.title=e,t},createSettingsDialog:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;t.title=t.title||"Alert",t.informativeText=t.informativeText||"",t.cancelBtnText=t.cancelBtnText||"Cancel",t.confirmBtnText=t.confirmBtnText||"Ok";var i=NSAlert.alloc().init(),l=e.plugin.urlForResourceNamed("icon.png").path(),o=NSImage.alloc().initByReferencingFile(l);i.setIcon(o),i.setMessageText(t.title),i.setInformativeText(t.informativeText);i.addButtonWithTitle(t.confirmBtnText),i.addButtonWithTitle(t.cancelBtnText);var c=NSGridView.alloc().init(),s={},u=0;if(a.forEach(function(e){var t,a;switch(e.type){case"text":t=n.createLabel(e.label),a=n.createTextField(e.value),u+=30,c.addRowWithViews([t,a]);break;case"stepper":t=n.createLabel(e.label),a=n.createStepper(e.value),u+=30,c.addRowWithViews([t,a]);break;case"checkbox":t=n.createLabel(e.label),a=n.createCheckbox(),u+=30,c.addRowWithViews([t,a]);break;case"multicheckbox":a=[],e.values.forEach(function(r,i){t=i?n.createLabel():n.createLabel(e.label);var l=n.createCheckbox(r);u+=30,a.push(l),c.addRowWithViews([t,l])});break;case"select":t=n.createLabel(e.label),a=n.createSelect(e.options),u+=36,c.addRowWithViews([t,a])}s[e.id]=a}),i.accessoryView=c,c.columnSpacing=30,c.rowSpacing=8,c.frame=NSMakeRect(0,0,400,u),1e3===i.runModal()){var f={};return a.forEach(function(e){switch(e.type){case"text":f[e.id]=s[e.id].stringValue();break;case"select":f[e.id]=e.options[s[e.id].indexOfSelectedItem()];break;case"checkbox":break;case"multicheckbox":var t={};e.values.forEach(function(a,n){t[a]=1===s[e.id][n].state()}),f[e.id]=t}}),void r(f)}return i}};t.default=n},"./src/util/util.js":
/*!**************************!*\
  !*** ./src/util/util.js ***!
  \**************************/
/*! exports provided: default */function(e,t,a){"use strict";a.r(t);t.default={createTextStyleId:function(e){var t="";return t+=e.fontFamily,t+="-"+e.fontSize,t+="-"+e.letterSpacing,t+="-"+e.textTransform,e.lineHeight&&(t+="-"+e.lineHeight),e.color&&(t+="-"+e.color.r+"-"+e.color.g+"-"+e.color.b+"-"+e.color.a),t}}}});"default"===e&&"function"==typeof a?a(t):a[e](t)}that.onRun=__skpm_run.bind(this,"default");