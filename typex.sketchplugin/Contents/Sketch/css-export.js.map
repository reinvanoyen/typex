{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/css-export.js","webpack://exports/./src/util/export.js","webpack://exports/./src/util/number.js","webpack://exports/./src/util/sketch.js","webpack://exports/./src/util/string.js","webpack://exports/./src/util/ui.js","webpack://exports/./src/util/util.js"],"names":["context","ui","createSettingsDialog","title","informativeText","type","id","options","label","value","data","classNamingConvention","textStyles","getTextStyles","sortTextStyles","css","forEach","textStyle","slugify","name","createCssProps","output","i","identifier","className","classNamingPrefix","createStyleBlock","createSavePanel","exportUtils","sort","a","b","fontSize","opts","cssUnit","scalingFactor","maxDecimalPlaces","cssProps","fontFamily","fontParts","split","fontWeightMap","parseFloatMaxDecimal","letterSpacing","textTransform","lineHeight","prop","createInlineStyleString","styleString","createHtmlFontbook","exportedTextStyles","textStyleId","createTextStyleId","textStyleName","textStyleNamingPrefix","textStyleNamingConvention","inlineStyleString","previewText","number","Number","toFixed","replace","sketch","texts","document","documentData","layerTextStyles","objects","rawTextStyles","text","push","attributes","style","rawTextStyle","String","NSFont","fontDescriptor","objectForKey","NSFontNameAttribute","NSFontSizeAttribute","paragraph","NSParagraphStyle","maximumLineHeight","NSKern","parseInt","MSAttributedStringTextTransformAttribute","string","str","toLowerCase","from","to","l","length","RegExp","charAt","defaultFileName","contents","save","NSSavePanel","savePanel","setNameFieldStringValue","setAllowsOtherFileTypes","setExtensionHidden","runModal","file","NSString","stringWithString","path","URL","writeToFile_atomically_encoding_error","NSUTF8StringEncoding","createLabel","NSTextField","alloc","init","setStringValue","setFont","boldSystemFontOfSize","setBezeled","setDrawsBackground","setEditable","setSelectable","createTextField","field","createSelect","comboBox","NSComboBox","addItemsWithObjectValues","selectItemAtIndex","setNumberOfVisibleItems","setCompletes","components","cb","cancelBtnText","confirmBtnText","dialog","NSAlert","dialogIconPath","plugin","urlForResourceNamed","dialogIcon","NSImage","initByReferencingFile","setIcon","setMessageText","setInformativeText","btnConfirm","addButtonWithTitle","btnCancel","gridView","NSGridView","inputs","height","c","addRowWithViews","accessoryView","columnSpacing","frame","NSMakeRect","responseCode","stringValue","indexOfSelectedItem","util"],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AAEA,+DAAe,UAASA,OAAT,EAAkB;AAE/BC,EAAA,gDAAE,CAACC,oBAAH,CAAwBF,OAAxB,EAAiC;AAC/BG,SAAK,EAAE,oBADwB;AAE/BC,mBAAe,EAAE;AAFc,GAAjC,EAGG,CACD;AACEC,QAAI,EAAE,QADR;AAEEC,MAAE,EAAE,SAFN;AAGEC,WAAO,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,KAAb,CAHX;AAIEC,SAAK,EAAE;AAJT,GADC,EAOD;AACEH,QAAI,EAAE,MADR;AAEEC,MAAE,EAAE,eAFN;AAGEG,SAAK,EAAE,CAHT;AAIED,SAAK,EAAE;AAJT,GAPC,EAaD;AACEH,QAAI,EAAE,MADR;AAEEC,MAAE,EAAE,kBAFN;AAGEG,SAAK,EAAE,CAHT;AAIED,SAAK,EAAE;AAJT,GAbC,EAmBD;AACEH,QAAI,EAAE,MADR;AAEEC,MAAE,EAAE,mBAFN;AAGEG,SAAK,EAAE,MAHT;AAIED,SAAK,EAAE;AAJT,GAnBC,EAyBD;AACEH,QAAI,EAAE,QADR;AAEEC,MAAE,EAAE,uBAFN;AAGEC,WAAO,EAAE,CAAC,SAAD,EAAY,iBAAZ,CAHX;AAIEC,SAAK,EAAE;AAJT,GAzBC,CAHH,EAkCG,UAACE,IAAD,EAAU;AAEXA,QAAI,CAACC,qBAAL,GAA6BD,IAAI,CAACC,qBAAL,IAA8B,SAA3D,CAFW,CAIX;;AACA,QAAIC,UAAU,GAAG,oDAAW,CAACC,aAAZ,CAA0Bb,OAA1B,CAAjB;AACAY,cAAU,GAAG,oDAAW,CAACE,cAAZ,CAA2BF,UAA3B,CAAb;AAEA,QAAIG,GAAG,GAAG,EAAV;AAEAH,cAAU,CAACI,OAAX,CAAmB,UAAAC,SAAS,EAAI;AAC9BF,SAAG,CAAC,oDAAW,CAACG,OAAZ,CAAoBD,SAAS,CAACE,IAA9B,CAAD,CAAH,GAA2C,oDAAW,CAACC,cAAZ,CAA2BH,SAA3B,EAAsCP,IAAtC,CAA3C;AACD,KAFD;AAIA,QAAIW,MAAM,GAAG,EAAb;AACA,QAAIC,CAAC,GAAG,CAAR;;AAEA,SAAK,IAAIC,UAAT,IAAuBR,GAAvB,EAA4B;AAE1B,UAAIS,SAAS,GAAGd,IAAI,CAACe,iBAAL,GAAyB,GAAzB,IAAgCf,IAAI,CAACC,qBAAL,KAA+B,SAA/B,GAA2CW,CAAC,GAAC,CAA7C,GAAiDC,UAAjF,CAAhB;AAEAF,YAAM,IAAI,CAAEC,CAAC,KAAK,CAAN,GAAU,IAAV,GAAiB,EAAnB,IAA0B,GAA1B,GAAgCE,SAAhC,GAA4C,IAAtD;AACAH,YAAM,IAAI,MAAI,IAAd;AACAA,YAAM,IAAI,oDAAW,CAACK,gBAAZ,CAA6BX,GAAG,CAACQ,UAAD,CAAhC,CAAV;AACAF,YAAM,IAAI,MAAI,IAAd;AACAC,OAAC;AACF;;AAEDrB,IAAA,gDAAE,CAAC0B,eAAH,CAAmB,sBAAnB,EAA2CN,MAA3C;AACD,GA/DD;AAgED;AAAA,C;;;;;;;;;;;;;;;ACvED;;AAEA;AACA;AAEA,IAAMO,WAAW,GAAG;AAClBd,gBADkB,0BACHF,UADG,EACS;AAEzB;AACAA,cAAU,CAACiB,IAAX,CAAgB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACxB,aAAOD,CAAC,CAACE,QAAF,GAAaD,CAAC,CAACC,QAAtB;AACD,KAFD;AAIA,WAAOpB,UAAP;AACD,GATiB;AAUlBQ,gBAVkB,0BAUHH,SAVG,EAUmB;AAAA,QAAXgB,IAAW,uEAAJ,EAAI;AAEnCA,QAAI,CAACC,OAAL,GAAeD,IAAI,CAACC,OAAL,IAAgB,IAA/B;AACAD,QAAI,CAACE,aAAL,GAAqBF,IAAI,CAACE,aAAL,IAAsB,CAA3C;AACAF,QAAI,CAACG,gBAAL,GAAwBH,IAAI,CAACG,gBAAL,IAAyB,CAAjD;AAEA,QAAIC,QAAQ,GAAG,EAAf;AAEAA,YAAQ,CAAC,aAAD,CAAR,GAA0BpB,SAAS,CAACqB,UAApC;AACAD,YAAQ,CAAC,aAAD,CAAR,GAA0B,GAA1B;AACAA,YAAQ,CAAC,aAAD,CAAR,GAA0B,CAA1B;AACAA,YAAQ,CAAC,gBAAD,CAAR,GAA6B,MAA7B;AAEA,QAAIE,SAAS,GAAGtB,SAAS,CAACqB,UAAV,CAAqBE,KAArB,CAA2B,GAA3B,CAAhB;AAEA,QAAIC,aAAa,GAAG;AAClB,cAAQ,GADU;AAElB,eAAS,GAFS;AAGlB,iBAAW,GAHO;AAIlB,gBAAU,GAJQ;AAKlB,cAAQ,GALU;AAMlB,eAAS;AANS,KAApB;;AASA,QAAIF,SAAS,CAAC,CAAD,CAAT,IAAgBE,aAAa,CAACF,SAAS,CAAC,CAAD,CAAV,CAAjC,EAAiD;AAC/CF,cAAQ,CAAC,aAAD,CAAR,GAA0BE,SAAS,CAAC,CAAD,CAAnC;AACAF,cAAQ,CAAC,aAAD,CAAR,GAA0BI,aAAa,CAACF,SAAS,CAAC,CAAD,CAAV,CAAvC;AACD;;AAEDF,YAAQ,CAAC,WAAD,CAAR,GAAwB,+CAAW,CAACK,oBAAZ,CAAiCT,IAAI,CAACE,aAAL,GAAqBlB,SAAS,CAACe,QAAhE,EAA0EC,IAAI,CAACG,gBAA/E,IAAiGH,IAAI,CAACC,OAA9H;AACAG,YAAQ,CAAC,gBAAD,CAAR,GAA6B,+CAAW,CAACK,oBAAZ,CAAiCT,IAAI,CAACE,aAAL,GAAqBlB,SAAS,CAAC0B,aAAhE,EAA+EV,IAAI,CAACG,gBAApF,IAAsGH,IAAI,CAACC,OAAxI;;AAEA,QAAIjB,SAAS,CAAC2B,aAAV,KAA4B,CAAhC,EAAmC;AACjCP,cAAQ,CAAC,gBAAD,CAAR,GAA6B,WAA7B;AACD;;AAED,QAAIpB,SAAS,CAAC2B,aAAV,KAA4B,CAAhC,EAAmC;AACjCP,cAAQ,CAAC,gBAAD,CAAR,GAA6B,WAA7B;AACD;;AAED,QAAIpB,SAAS,CAAC4B,UAAd,EAA0B;AACxBR,cAAQ,CAAC,aAAD,CAAR,GAA0B,+CAAW,CAACK,oBAAZ,CAAiC,IAAI,CAACzB,SAAS,CAAC4B,UAAV,GAAuB5B,SAAS,CAACe,QAAlC,IAA8Cf,SAAS,CAAC4B,UAA7F,EAAyGZ,IAAI,CAACG,gBAA9G,CAA1B;AACD;;AAED,WAAOC,QAAP;AACD,GAvDiB;AAwDlBX,kBAxDkB,4BAwDDW,QAxDC,EAwDS;AAEzB,QAAIhB,MAAM,GAAG,EAAb;;AAEA,SAAK,IAAIyB,IAAT,IAAiBT,QAAjB,EAA2B;AACzBhB,YAAM,IAAI,OAAKyB,IAAL,GAAU,IAAV,GAAeT,QAAQ,CAACS,IAAD,CAAvB,GAA8B,GAA9B,GAAkC,IAA5C;AACD;;AAED,WAAOzB,MAAP;AACD,GAjEiB;AAkElB0B,yBAlEkB,mCAkEMV,QAlEN,EAkEgB;AAEhC,QAAIW,WAAW,GAAG,EAAlB;;AAEA,SAAK,IAAIF,IAAT,IAAiBT,QAAjB,EAA2B;AACzBW,iBAAW,IAAIF,IAAI,GAAG,IAAP,GAAcT,QAAQ,CAACS,IAAD,CAAtB,GAA8B,IAA7C;AACD;;AAED,WAAOE,WAAP;AACD,GA3EiB;AA4ElBC,oBA5EkB,8BA4ECrC,UA5ED,EA4EwB;AAAA,QAAXqB,IAAW,uEAAJ,EAAI;AAExC,QAAIiB,kBAAkB,GAAG,EAAzB;AAEA,QAAI7B,MAAM,oNAAV;AAUAT,cAAU,CAACI,OAAX,CAAmB,UAACC,SAAD,EAAYK,CAAZ,EAAkB;AAEnC,UAAI6B,WAAW,GAAG,6CAAI,CAACC,iBAAL,CAAuBnC,SAAvB,CAAlB;AACA,UAAIoC,aAAa,GAAGpB,IAAI,CAACqB,qBAAL,GAA6B,GAA7B,IAAoCrB,IAAI,CAACsB,yBAAL,KAAmC,SAAnC,GAA+CjC,CAAC,GAAC,CAAjD,GAAqDL,SAAS,CAACE,IAAnG,CAApB;;AAEA,UAAI,CAAE+B,kBAAkB,CAACC,WAAD,CAAxB,EAAuC;AAErC,YAAId,QAAQ,GAAGT,WAAW,CAACR,cAAZ,CAA2BH,SAA3B,EAAsCgB,IAAtC,CAAf;AACA,YAAIuB,iBAAiB,GAAG5B,WAAW,CAACmB,uBAAZ,CAAoCV,QAApC,CAAxB;AAEAhB,cAAM,gQAGQC,CAAC,GAAC,CAHV,6DAKI+B,aALJ,mGAQIG,iBARJ,mFAWYA,iBAXZ,iBAWmCvB,IAAI,CAACwB,WAXxC,uCAAN,CALqC,CAoBrC;;AACAP,0BAAkB,CAACC,WAAD,CAAlB,GAAkC,IAAlC;AACD;AACF,KA5BD;AA8BA9B,UAAM,0CAAN;AAKA,WAAOA,MAAP;AACD;AA9HiB,CAApB;AAiIA,+DAAeO,WAAf,E;;;;;;;;;;;;;ACtIA;;AAEA,IAAM8B,MAAM,GAAG;AACbhB,sBADa,gCACQgB,MADR,EACgBtB,gBADhB,EACkC;AAC7C,WAAOuB,MAAM,CAACD,MAAM,CAACE,OAAP,CAAexB,gBAAf,EAAiCyB,OAAjC,CAAyC,SAAzC,EAAoD,EAApD,CAAD,CAAb;AACD;AAHY,CAAf;AAMA,+DAAeH,MAAf,E;;;;;;;;;;;;;ACRA;;AAEA,IAAMI,MAAM,GAAG;AACbjD,eADa,yBACCb,OADD,EACU;AAErB,QAAI+D,KAAK,GAAG/D,OAAO,CAACgE,QAAR,CAAiBC,YAAjB,GAAgCC,eAAhC,GAAkDC,OAAlD,EAAZ;AACA,QAAIC,aAAa,GAAG,EAApB;AAEAL,SAAK,CAAC/C,OAAN,CAAc,UAACqD,IAAD,EAAO/C,CAAP,EAAa;AAEzB8C,mBAAa,CAACE,IAAd,CAAmB;AACjBC,kBAAU,EAAEF,IAAI,CAACG,KAAL,GAAavD,SAAb,GAAyBsD,UAAzB,EADK;AAEjBtD,iBAAS,EAAEoD,IAFM;AAGjBlD,YAAI,EAAEkD,IAAI,CAAClD,IAAL;AAHW,OAAnB;AAKD,KAPD;AASA,QAAIP,UAAU,GAAG,EAAjB;AAEAwD,iBAAa,CAACpD,OAAd,CAAsB,UAAAyD,YAAY,EAAI;AAEpC,UAAIxD,SAAS,GAAG,EAAhB;AAEAA,eAAS,CAACE,IAAV,GAAiBsD,YAAY,CAACtD,IAA9B;AACAF,eAAS,CAACqB,UAAV,GAAuBoC,MAAM,CAACD,YAAY,CAACF,UAAb,CAAwBI,MAAxB,CAA+BC,cAA/B,GAAgDC,YAAhD,CAA6DC,mBAA7D,CAAD,CAA7B;AACA7D,eAAS,CAACe,QAAV,GAAqByC,YAAY,CAACF,UAAb,CAAwBI,MAAxB,CAA+BC,cAA/B,GAAgDC,YAAhD,CAA6DE,mBAA7D,CAArB;AACA9D,eAAS,CAAC+D,SAAV,GAAsBP,YAAY,CAACF,UAAb,CAAwBU,gBAA9C;;AAEA,UAAIhE,SAAS,CAAC+D,SAAd,EAAyB;AACvB/D,iBAAS,CAAC4B,UAAV,GAAuB5B,SAAS,CAAC+D,SAAV,CAAoBE,iBAApB,EAAvB;AACD;;AAEDjE,eAAS,CAAC0B,aAAV,GAA0B8B,YAAY,CAACF,UAAb,CAAwBY,MAAxB,IAAkC,CAA5D;AACAlE,eAAS,CAAC2B,aAAV,GAA0BwC,QAAQ,CAACX,YAAY,CAACF,UAAb,CAAwBc,wCAAxB,IAAoE,CAArE,CAAlC,CAdoC,CAgBpC;;AAEAzE,gBAAU,CAAC0D,IAAX,CAAgBrD,SAAhB;AACD,KAnBD;AAqBA,WAAOL,UAAP;AACD;AAvCY,CAAf;AA0CA,+DAAekD,MAAf,E;;;;;;;;;;;;;AC5CA;;AAEA,IAAMwB,MAAM,GAAG;AACbpE,SADa,mBACLqE,GADK,EACA;AAEXA,OAAG,GAAGA,GAAG,CAAC1B,OAAJ,CAAY,YAAZ,EAA0B,EAA1B,CAAN,CAFW,CAE0B;;AACrC0B,OAAG,GAAGA,GAAG,CAACC,WAAJ,EAAN,CAHW,CAKX;;AACA,QAAIC,IAAI,GAAG,8BAAX;AACA,QAAIC,EAAE,GAAK,8BAAX;;AAEA,SAAK,IAAIpE,CAAC,GAAG,CAAR,EAAWqE,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCtE,CAAC,GAAGqE,CAArC,EAAwCrE,CAAC,EAAzC,EAA6C;AAC3CiE,SAAG,GAAGA,GAAG,CAAC1B,OAAJ,CAAY,IAAIgC,MAAJ,CAAWJ,IAAI,CAACK,MAAL,CAAYxE,CAAZ,CAAX,EAA2B,GAA3B,CAAZ,EAA6CoE,EAAE,CAACI,MAAH,CAAUxE,CAAV,CAA7C,CAAN;AACD;;AAEDiE,OAAG,GAAGA,GAAG,CAAC1B,OAAJ,CAAY,cAAZ,EAA4B,EAA5B,EAAgC;AAAhC,KACHA,OADG,CACK,MADL,EACa,GADb,EACkB;AADlB,KAEHA,OAFG,CAEK,KAFL,EAEY,GAFZ,CAAN,CAEuB;AAFvB;AAKA,WAAO0B,GAAP;AACD;AApBY,CAAf;AAuBA,+DAAeD,MAAf,E;;;;;;;;;;;;;ACzBA;;AAEA,IAAMrF,EAAE,GAAG;AACT0B,iBADS,2BACOoE,eADP,EACwBC,QADxB,EACkC;AAEzC,QAAIC,IAAI,GAAGC,WAAW,CAACC,SAAZ,EAAX;AAEAF,QAAI,CAACG,uBAAL,CAA6BL,eAA7B;AACAE,QAAI,CAACI,uBAAL,CAA6B,KAA7B;AACAJ,QAAI,CAACK,kBAAL,CAAwB,KAAxB;;AAEA,QAAIL,IAAI,CAACM,QAAL,EAAJ,EAAqB;AAEnB,UAAIC,IAAI,GAAGC,QAAQ,CAACC,gBAAT,CAA0BV,QAA1B,CAAX;AACA,UAAIW,IAAI,GAAGV,IAAI,CAACW,GAAL,GAAWD,IAAX,EAAX;AAEAH,UAAI,CAACK,qCAAL,CAA2CF,IAA3C,EAAiD,IAAjD,EAAuDG,oBAAvD,EAA6E,IAA7E;AACD;AACF,GAhBQ;AAiBTC,aAAW,EAAE,qBAAC1C,IAAD,EAAU;AAErB,QAAI7D,KAAK,GAAGwG,WAAW,CAACC,KAAZ,GAAoBC,IAApB,EAAZ;AAEA1G,SAAK,CAAC2G,cAAN,CAAqB9C,IAArB;AACA7D,SAAK,CAAC4G,OAAN,CAAczC,MAAM,CAAC0C,oBAAP,CAA4B,EAA5B,CAAd;AACA7G,SAAK,CAAC8G,UAAN,CAAiB,KAAjB;AACA9G,SAAK,CAAC+G,kBAAN,CAAyB,KAAzB;AACA/G,SAAK,CAACgH,WAAN,CAAkB,KAAlB;AACAhH,SAAK,CAACiH,aAAN,CAAoB,KAApB;AAEA,WAAOjH,KAAP;AACD,GA7BQ;AA8BTkH,iBA9BS,2BA8BOjH,KA9BP,EA8Bc;AAErB,QAAIkH,KAAK,GAAGX,WAAW,CAACC,KAAZ,GAAoBC,IAApB,EAAZ;AAEAS,SAAK,CAACR,cAAN,CAAqB1G,KAArB;AAEA,WAAOkH,KAAP;AACD,GArCQ;AAsCTC,cAAY,EAAE,sBAACrH,OAAD,EAAa;AAEzB,QAAIsH,QAAQ,GAAGC,UAAU,CAACb,KAAX,GAAmBC,IAAnB,EAAf;AAEAW,YAAQ,CAACE,wBAAT,CAAkCxH,OAAlC;AACAsH,YAAQ,CAACG,iBAAT,CAA2B,CAA3B;AACAH,YAAQ,CAACI,uBAAT,CAAiC,EAAjC;AACAJ,YAAQ,CAACK,YAAT,CAAsB,CAAtB;AAEA,WAAOL,QAAP;AACD,GAhDQ;AAiDT3H,sBAjDS,gCAiDYF,OAjDZ,EAiDgD;AAAA,QAA3BiC,IAA2B,uEAApB,EAAoB;AAAA,QAAhBkG,UAAgB;AAAA,QAAJC,EAAI;AAEvDnG,QAAI,CAAC9B,KAAL,GAAa8B,IAAI,CAAC9B,KAAL,IAAc,OAA3B;AACA8B,QAAI,CAAC7B,eAAL,GAAuB6B,IAAI,CAAC7B,eAAL,IAAwB,EAA/C;AACA6B,QAAI,CAACoG,aAAL,GAAqBpG,IAAI,CAACoG,aAAL,IAAsB,QAA3C;AACApG,QAAI,CAACqG,cAAL,GAAsBrG,IAAI,CAACqG,cAAL,IAAuB,IAA7C;AAEA,QAAIC,MAAM,GAAGC,OAAO,CAACvB,KAAR,GAAgBC,IAAhB,EAAb;AACA,QAAIuB,cAAc,GAAGzI,OAAO,CAAC0I,MAAR,CAAeC,mBAAf,CAAmC,UAAnC,EAA+ChC,IAA/C,EAArB;AACA,QAAIiC,UAAU,GAAGC,OAAO,CAAC5B,KAAR,GAAgB6B,qBAAhB,CAAsCL,cAAtC,CAAjB;AACAF,UAAM,CAACQ,OAAP,CAAeH,UAAf;AACAL,UAAM,CAACS,cAAP,CAAsB/G,IAAI,CAAC9B,KAA3B;AACAoI,UAAM,CAACU,kBAAP,CAA0BhH,IAAI,CAAC7B,eAA/B;AAEA,QAAI8I,UAAU,GAAGX,MAAM,CAACY,kBAAP,CAA0BlH,IAAI,CAACqG,cAA/B,CAAjB;AACA,QAAIc,SAAS,GAAGb,MAAM,CAACY,kBAAP,CAA0BlH,IAAI,CAACoG,aAA/B,CAAhB,CAfuD,CAiBvD;;AACA,QAAIgB,QAAQ,GAAGC,UAAU,CAACrC,KAAX,GAAmBC,IAAnB,EAAf,CAlBuD,CAoBvD;;AACA,QAAIqC,MAAM,GAAG,EAAb;AACA,QAAIC,MAAM,GAAG,CAAb,CAtBuD,CAwBvD;;AACArB,cAAU,CAACnH,OAAX,CAAmB,UAAAyI,CAAC,EAAI;AAEtB,UAAIjJ,KAAJ,EAAWmH,KAAX;;AAEA,cAAQ8B,CAAC,CAACpJ,IAAV;AAEE,aAAK,MAAL;AAEEG,eAAK,GAAGP,EAAE,CAAC8G,WAAH,CAAe0C,CAAC,CAACjJ,KAAjB,CAAR;AACAmH,eAAK,GAAG1H,EAAE,CAACyH,eAAH,CAAmB+B,CAAC,CAAChJ,KAArB,CAAR;AACA+I,gBAAM,IAAI,EAAV;AAEA;;AAEF,aAAK,QAAL;AAEEhJ,eAAK,GAAGP,EAAE,CAAC8G,WAAH,CAAe0C,CAAC,CAACjJ,KAAjB,CAAR;AACAmH,eAAK,GAAG1H,EAAE,CAAC2H,YAAH,CAAgB6B,CAAC,CAAClJ,OAAlB,CAAR;AACAiJ,gBAAM,IAAI,EAAV;AAEA;AAhBJ;;AAmBAD,YAAM,CAACE,CAAC,CAACnJ,EAAH,CAAN,GAAeqH,KAAf;AACA0B,cAAQ,CAACK,eAAT,CAAyB,CAAClJ,KAAD,EAAQmH,KAAR,CAAzB;AACD,KAzBD,EAzBuD,CAoDvD;;AACAY,UAAM,CAACoB,aAAP,GAAuBN,QAAvB;AAEAA,YAAQ,CAACO,aAAT,GAAyB,EAAzB;AACAP,YAAQ,CAACQ,KAAT,GAAiBC,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,EAAYN,MAAZ,CAA3B,CAxDuD,CA0DvD;;AACA,QAAIO,YAAY,GAAGxB,MAAM,CAAChC,QAAP,EAAnB,CA3DuD,CA6DvD;;AACA,QAAIwD,YAAY,KAAK,IAArB,EAA2B;AAEzB,UAAIrJ,IAAI,GAAG,EAAX;AAEAyH,gBAAU,CAACnH,OAAX,CAAmB,UAAAyI,CAAC,EAAI;AAEtB,gBAAQA,CAAC,CAACpJ,IAAV;AACE,eAAK,MAAL;AACEK,gBAAI,CAAC+I,CAAC,CAACnJ,EAAH,CAAJ,GAAaiJ,MAAM,CAACE,CAAC,CAACnJ,EAAH,CAAN,CAAa0J,WAAb,EAAb;AACA;;AACF,eAAK,QAAL;AACEtJ,gBAAI,CAAC+I,CAAC,CAACnJ,EAAH,CAAJ,GAAamJ,CAAC,CAAClJ,OAAF,CAAUgJ,MAAM,CAACE,CAAC,CAACnJ,EAAH,CAAN,CAAa2J,mBAAb,EAAV,CAAb;AALJ;AAOD,OATD;AAWA7B,QAAE,CAAC1H,IAAD,CAAF;AACD;;AAED,WAAO6H,MAAP;AACD;AAlIQ,CAAX;AAqIA,+DAAetI,EAAf,E;;;;;;;;;;;;;ACvIA;;AAEA,IAAMiK,IAAI,GAAG;AACX9G,mBADW,6BACOnC,SADP,EACkB;AAE3B,QAAIkC,WAAW,GAAG,EAAlB,CAF2B,CAI3B;;AACAA,eAAW,IAAIlC,SAAS,CAACqB,UAAzB;AACAa,eAAW,IAAI,MAAIlC,SAAS,CAACe,QAA7B;AACAmB,eAAW,IAAI,MAAIlC,SAAS,CAAC4B,UAA7B;AACAM,eAAW,IAAI,MAAIlC,SAAS,CAAC0B,aAA7B;AACAQ,eAAW,IAAI,MAAIlC,SAAS,CAAC2B,aAA7B;AAEA,WAAOO,WAAP;AACD;AAbU,CAAb;AAgBA,+DAAe+G,IAAf,E","file":"css-export.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/css-export.js\");\n","import ui from './util/ui';\nimport stringUtils from './util/string';\nimport exportUtils from './util/export';\nimport sketchUtils from './util/sketch';\n\nexport default function(context) {\n\n  ui.createSettingsDialog(context, {\n    title: 'CSS classes export',\n    informativeText: 'Export each text style as a class, ready to be used in your HTML-files'\n  }, [\n    {\n      type: 'select',\n      id: 'cssUnit',\n      options: ['px', 'em', 'rem'],\n      label: 'Css unit'\n    },\n    {\n      type: 'text',\n      id: 'scalingFactor',\n      value: 1,\n      label: 'Size scaling factor'\n    },\n    {\n      type: 'text',\n      id: 'maxDecimalPlaces',\n      value: 2,\n      label: 'Maximal decimal places'\n    },\n    {\n      type: 'text',\n      id: 'classNamingPrefix',\n      value: 'type',\n      label: 'Class naming prefix'\n    },\n    {\n      type: 'select',\n      id: 'classNamingConvention',\n      options: ['Numeric', 'Text style name'],\n      label: 'Class naming convention'\n    }\n  ], (data) => {\n\n    data.classNamingConvention = data.classNamingConvention || 'Numeric';\n\n    // Get the text styles from the Sketch document\n    let textStyles = sketchUtils.getTextStyles(context);\n    textStyles = exportUtils.sortTextStyles(textStyles);\n\n    let css = {};\n\n    textStyles.forEach(textStyle => {\n      css[stringUtils.slugify(textStyle.name)] = exportUtils.createCssProps(textStyle, data);\n    });\n\n    let output = '';\n    let i = 0;\n\n    for (let identifier in css) {\n\n      let className = data.classNamingPrefix + '-' + (data.classNamingConvention === 'Numeric' ? i+1 : identifier);\n\n      output += ( i !== 0 ? \"\\n\" : '' ) + '.' + className + \"\\n\";\n      output += '{'+\"\\n\";\n      output += exportUtils.createStyleBlock(css[identifier]);\n      output += '}'+\"\\n\";\n      i++;\n    }\n\n    ui.createSavePanel('typex-stylesheet.css', output);\n  });\n};","\"use strict\";\n\nimport util from './util';\nimport numberUtils from './number';\n\nconst exportUtils = {\n  sortTextStyles(textStyles) {\n\n    // Sort text styles by size\n    textStyles.sort((a, b) => {\n      return a.fontSize - b.fontSize;\n    });\n\n    return textStyles;\n  },\n  createCssProps(textStyle, opts = {}) {\n\n    opts.cssUnit = opts.cssUnit || 'px';\n    opts.scalingFactor = opts.scalingFactor || 1;\n    opts.maxDecimalPlaces = opts.maxDecimalPlaces || 2;\n\n    let cssProps = {};\n\n    cssProps['font-family'] = textStyle.fontFamily;\n    cssProps['font-weight'] = 400;\n    cssProps['line-height'] = 1;\n    cssProps['text-transform'] = 'none';\n\n    let fontParts = textStyle.fontFamily.split('-');\n\n    let fontWeightMap = {\n      'Thin': 100,\n      'Light': 300,\n      'Regular': 400,\n      'Medium': 500,\n      'Bold': 700,\n      'Black': 900\n    };\n\n    if (fontParts[1] && fontWeightMap[fontParts[1]]) {\n      cssProps['font-family'] = fontParts[0];\n      cssProps['font-weight'] = fontWeightMap[fontParts[1]];\n    }\n\n    cssProps['font-size'] = numberUtils.parseFloatMaxDecimal(opts.scalingFactor * textStyle.fontSize, opts.maxDecimalPlaces)+opts.cssUnit;\n    cssProps['letter-spacing'] = numberUtils.parseFloatMaxDecimal(opts.scalingFactor * textStyle.letterSpacing, opts.maxDecimalPlaces)+opts.cssUnit;\n\n    if (textStyle.textTransform === 1) {\n      cssProps['text-transform'] = 'uppercase';\n    }\n\n    if (textStyle.textTransform === 2) {\n      cssProps['text-transform'] = 'lowercase';\n    }\n\n    if (textStyle.lineHeight) {\n      cssProps['line-height'] = numberUtils.parseFloatMaxDecimal(1 + (textStyle.lineHeight - textStyle.fontSize) / textStyle.lineHeight, opts.maxDecimalPlaces);\n    }\n\n    return cssProps;\n  },\n  createStyleBlock(cssProps) {\n\n    let output = '';\n\n    for (let prop in cssProps) {\n      output += \"\\t\"+prop+': '+cssProps[prop]+';'+\"\\n\";\n    }\n\n    return output;\n  },\n  createInlineStyleString(cssProps) {\n\n    let styleString = '';\n\n    for (let prop in cssProps) {\n      styleString += prop + ': ' + cssProps[prop] +'; ';\n    }\n\n    return styleString;\n  },\n  createHtmlFontbook(textStyles, opts = {}) {\n\n    let exportedTextStyles = {};\n\n    let output = `\n      <!DOCTYPE html>\n      <html lang=\"en\">\n      <head>\n        <meta charset=\"utf-8\">\n        <title>Typex text styles</title>\n      </head>\n      <body style=\"padding: 0; margin: 0;\">\n    `;\n\n    textStyles.forEach((textStyle, i) => {\n\n      let textStyleId = util.createTextStyleId(textStyle);\n      let textStyleName = opts.textStyleNamingPrefix + ' ' + (opts.textStyleNamingConvention === 'Numeric' ? i+1 : textStyle.name);\n\n      if (! exportedTextStyles[textStyleId]) {\n\n        let cssProps = exportUtils.createCssProps(textStyle, opts);\n        let inlineStyleString = exportUtils.createInlineStyleString(cssProps);\n\n        output += `\n          <div style=\"box-shadow: 0 5px 15px #f0f0f0; padding: 25px 50px; border-bottom: 1px solid #ccc;\">\n            <div style=\"font-family: Helvetica, Arial, Sans-Serif; font-size: 14px; margin-bottom: 15px;\">\n              <span>${i+1}.</span>\n              <span>\n                ${textStyleName}\n              </span>\n              <span style=\"color: #ccc;\">\n                ${inlineStyleString}\n              </span>\n            </div>\n            <div style=\"${inlineStyleString};\">${opts.previewText}</div>\n          </div>\n        `;\n\n        // Add the id to the stack of text styles we've already exported\n        exportedTextStyles[textStyleId] = true;\n      }\n    });\n\n    output += `\n      </body>\n      </html>\n    `;\n\n    return output;\n  }\n};\n\nexport default exportUtils;","\"use strict\";\n\nconst number = {\n  parseFloatMaxDecimal(number, maxDecimalPlaces) {\n    return Number(number.toFixed(maxDecimalPlaces).replace(/[.,]00$/, ''));\n  }\n};\n\nexport default number;","\"use strict\";\n\nconst sketch = {\n  getTextStyles(context) {\n\n    let texts = context.document.documentData().layerTextStyles().objects();\n    let rawTextStyles = [];\n\n    texts.forEach((text, i) => {\n\n      rawTextStyles.push({\n        attributes: text.style().textStyle().attributes(),\n        textStyle: text,\n        name: text.name()\n      });\n    });\n\n    let textStyles = [];\n\n    rawTextStyles.forEach(rawTextStyle => {\n\n      let textStyle = {};\n\n      textStyle.name = rawTextStyle.name;\n      textStyle.fontFamily = String(rawTextStyle.attributes.NSFont.fontDescriptor().objectForKey(NSFontNameAttribute));\n      textStyle.fontSize = rawTextStyle.attributes.NSFont.fontDescriptor().objectForKey(NSFontSizeAttribute);\n      textStyle.paragraph = rawTextStyle.attributes.NSParagraphStyle;\n\n      if (textStyle.paragraph) {\n        textStyle.lineHeight = textStyle.paragraph.maximumLineHeight();\n      }\n\n      textStyle.letterSpacing = rawTextStyle.attributes.NSKern || 0;\n      textStyle.textTransform = parseInt(rawTextStyle.attributes.MSAttributedStringTextTransformAttribute || 0);\n\n      // @TODO strikethrough & underline, or is this not needed?\n\n      textStyles.push(textStyle);\n    });\n\n    return textStyles;\n  }\n};\n\nexport default sketch;","\"use strict\";\n\nconst string = {\n  slugify(str) {\n\n    str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n    str = str.toLowerCase();\n\n    // remove accents, swap ñ for n, etc\n    let from = 'àáäâèéëêìíïîòóöôùúüûñç·/_,:;';\n    let to   = 'aaaaeeeeiiiioooouuuunc------';\n\n    for (let i = 0, l = from.length; i < l; i++) {\n      str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\n    }\n\n    str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n      .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n      .replace(/-+/g, '-') // collapse dashes\n    ;\n\n    return str;\n  }\n};\n\nexport default string;","\"use strict\";\n\nconst ui = {\n  createSavePanel(defaultFileName, contents) {\n\n    let save = NSSavePanel.savePanel();\n\n    save.setNameFieldStringValue(defaultFileName);\n    save.setAllowsOtherFileTypes(false);\n    save.setExtensionHidden(false);\n\n    if (save.runModal()) {\n\n      let file = NSString.stringWithString(contents);\n      let path = save.URL().path();\n\n      file.writeToFile_atomically_encoding_error(path, true, NSUTF8StringEncoding, null);\n    }\n  },\n  createLabel: (text) => {\n\n    let label = NSTextField.alloc().init();\n\n    label.setStringValue(text);\n    label.setFont(NSFont.boldSystemFontOfSize(12));\n    label.setBezeled(false);\n    label.setDrawsBackground(false);\n    label.setEditable(false);\n    label.setSelectable(false);\n\n    return label;\n  },\n  createTextField(value) {\n\n    let field = NSTextField.alloc().init();\n\n    field.setStringValue(value);\n\n    return field;\n  },\n  createSelect: (options) => {\n\n    let comboBox = NSComboBox.alloc().init();\n\n    comboBox.addItemsWithObjectValues(options);\n    comboBox.selectItemAtIndex(0);\n    comboBox.setNumberOfVisibleItems(16);\n    comboBox.setCompletes(1);\n\n    return comboBox;\n  },\n  createSettingsDialog(context, opts = {}, components, cb) {\n\n    opts.title = opts.title || 'Alert';\n    opts.informativeText = opts.informativeText || '';\n    opts.cancelBtnText = opts.cancelBtnText || 'Cancel';\n    opts.confirmBtnText = opts.confirmBtnText || 'Ok';\n\n    let dialog = NSAlert.alloc().init();\n    let dialogIconPath = context.plugin.urlForResourceNamed('icon.png').path();\n    let dialogIcon = NSImage.alloc().initByReferencingFile(dialogIconPath);\n    dialog.setIcon(dialogIcon);\n    dialog.setMessageText(opts.title);\n    dialog.setInformativeText(opts.informativeText);\n\n    let btnConfirm = dialog.addButtonWithTitle(opts.confirmBtnText);\n    let btnCancel = dialog.addButtonWithTitle(opts.cancelBtnText);\n\n    // Create grid view\n    let gridView = NSGridView.alloc().init();\n\n    // Create object to hold all inputs\n    let inputs = {};\n    let height = 0;\n\n    // Loop each component\n    components.forEach(c => {\n\n      let label, field;\n\n      switch (c.type) {\n\n        case 'text':\n\n          label = ui.createLabel(c.label);\n          field = ui.createTextField(c.value);\n          height += 22;\n\n          break;\n\n        case 'select':\n\n          label = ui.createLabel(c.label);\n          field = ui.createSelect(c.options);\n          height += 28;\n\n          break;\n      }\n\n      inputs[c.id] = field;\n      gridView.addRowWithViews([label, field]);\n    });\n\n    // Set grid view as view of dialog\n    dialog.accessoryView = gridView;\n\n    gridView.columnSpacing = 30;\n    gridView.frame = NSMakeRect(0, 0, 400, height);\n\n    // Open the dialog and store the response code\n    let responseCode = dialog.runModal();\n\n    // The dialog is being 'submitted'\n    if (responseCode === 1000) {\n\n      let data = {};\n\n      components.forEach(c => {\n\n        switch (c.type) {\n          case 'text':\n            data[c.id] = inputs[c.id].stringValue();\n            break;\n          case 'select':\n            data[c.id] = c.options[inputs[c.id].indexOfSelectedItem()];\n        }\n      });\n\n      cb(data);\n    }\n\n    return dialog;\n  }\n};\n\nexport default ui;","\"use strict\";\n\nconst util = {\n  createTextStyleId(textStyle) {\n\n    let textStyleId = '';\n\n    // Make sure this id incorporates every possible property of the text style\n    textStyleId += textStyle.fontFamily;\n    textStyleId += '-'+textStyle.fontSize;\n    textStyleId += '-'+textStyle.lineHeight;\n    textStyleId += '-'+textStyle.letterSpacing;\n    textStyleId += '-'+textStyle.textTransform;\n\n    return textStyleId;\n  }\n};\n\nexport default util;"],"sourceRoot":""}